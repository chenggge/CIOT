### 要点：本章主要解决 *我们应该何时进行重构*  的问题
#### 1. Duplicated Code(重复代码)
* 同一个类的两个函数含有相同的表达式
* 两个互为兄弟的子类内含相同表达式
#### 2. Long Method(过长函数)
* 小型函数
> 现代OO语言几乎已经完全免除了进程内的函数调用开销。
* 给函数起个好名字--小函数容易理解的真正关键
> 关键不在于函数的长度，而在于函数**做什么**和**如何做**之间的语义距离。
* 分解函数--方法
> 每当感觉需要以注释来说明点什么的时候，我们就把需要说明的东西写进一个独立函数中，并以其**用途**(而非实现手法)命名。
* 如何确定该提炼哪一段代码
> * 寻找注释
> * 条件表达式和循环
#### 3. Long Class(过大的类)
* 太多的实例变量
* 太多的代码
#### 4. Long Parameter List(过长参数列)
* 全局数据是邪恶的东西，所以我们需要参数
> 对象技术改变了这一情况：如果你手上没有所需的东西，总可以叫另一个对象给你。因此，有了对象，你就不必把函数需要的东西都以参数传递给它了，只需传给它足够的、让函数能从中获得自己需要的东西就行了。
* 传入对象优于传入参数
#### 5. Divergent Change(发散式变化)
* 一个类受多种变化影响
* > 如果某个类经常因为不同的原因在不同的方向上发生变化，Divergent Change就出现了。
* > 针对某一外界变化的所有相应修改，都只应该发生在单一类中，而这个新类内的所有内容都应该反应此变化。为此，你应该找出某特定原因而造成的所有变化，并将它们提炼到另一个类中。
* 一个类用于解决某一个问题
#### 6. Shotgun Surgery(散弹式修改)
* 一种变化引发多个类相应修改
* > 如果没遇到某种变化，你都必须在许多不同的类内做出许多小修改，你所面临的坏味道就是Shotgun Surgery。
* > 这两种情况下你都会希望整理代码，使“外界变化”与“需要修改的类趋于一一对应”。
#### 7. Feature Envy(依恋情结)
* > 对象技术的全部要点在于：这是一种“将数据和对数据的操作行为包装在一起”的技术。
* > 有一种经典气味是：函数对某个类的兴趣高过对自己所处类的兴趣。这种如慕之情最通常的焦点便是数据。
* > 一个函数往往会用到几个类的功能，那么它究竟该被置于何处呢？我们的原则是：判断哪个类拥有最多被此函数使用的数据，然后就把这个函数和那些数据摆在一起。
#### 8. Data Clumps(数据泥团)
* > 数据项就像小孩子，喜欢成群结队的待在一块儿。你可以在很多地方看到相同的三四项数据：两个类中相同的字段，许多函数签名中相同的参数。
* > 一个好的评判方法是：删掉众多数据项中的一项。这么做，其他数据有没有因而失去意义？如果它们不再有意义，这就是个明确信号：你应该为它们产生一个新对象。不必在意Data Clumps只用上新对象的一部分字段，只要以新对象取代两个（或者更多）字段，你就值回票价了。
#### 9. Primitive Obsession（基本类型偏执）
> 大多数编程环境都有两种数据：结构类型允许你讲数据组织成有意义的形式；基本类型则是构成结构类型的积木块。
#### 10. Switch Statements(switch惊悚现身)
#### 11. Parallel Inheritance Hierarchies(平行继承体系)
#### 12. Lazy Class(冗余类)
#### 13. Speculative Generality(夸夸其谈未来性)
#### 14. Temporary Field(令人迷惑的暂时字段)
#### 15. Message Chains(过度耦合的消息链)
#### 16. Middle Man(中间人)
#### 17. Inappropriate Intimacy(狎昵关系)
#### 18. Alternative Classes with Different Interfaces(异曲同工的类)
#### 19. Incomplete Library Class(不完美的类)
#### 20. Data Class(纯稚的数据类)
#### 21. Refused Bequest(被拒绝的遗赠)
#### 22. Comments(过多的注释)
* > 常常会有这样的情况：你看到一段代码有着长长的注释，然后发现，这些注释之所以存在乃是因为代码很糟糕。
* > 当你感觉需要撰写注释时，请先尝试重构，试着让所有注释都变得多余。
* > 如果你不知道该做什么，这才是注释的良好时机。除了用来记述将来的打算之外，注释还可以用来标记你并无十足把握的区域。你可以在注释里写下自己“什么做某某事”。这类信息可以帮助将来的修改者，尤其是那些健忘的家伙。


